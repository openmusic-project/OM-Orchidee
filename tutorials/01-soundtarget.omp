; OM File Header - Saved 2012/01/18 12:44:21
; (6.050102 :patc (om-make-point 33 10) (om-make-point 62 25) (om-make-point 1381 808) "" 183 0 nil "2012/01/05 23:22:31")
; End File Header
; External resources 
; (list (list (quote :sound) "../../out-files/my_synt.aiff"))
(in-package :om)(load-lib-for (quote ("Esquisse" "OM-Orchidee" "OMChroma")))(setf *om-current-persistent* (om-load-patch1 "01-soundtarget" (quote ((om-load-editor-box1 "BPF 3" (quote bpf) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "X-POINTS" (list 0 10)) (om-load-inputfun (quote input-funbox) "no documentation" "Y-POINTS" (list 0 100)) (om-load-inputfun (quote input-funbox) "no documentation" "DECIMALS" 2))) (om-make-point 1213 533) (om-make-point 103 38) (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 10.0 20.0 30.0 40.0 50.0 60.0 70.0 80.0 90.0 100.0 110.0 120.0 130.0 140.0 150.0 160.0 170.0 180.0 190.0 200.0)) (quote (0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1 0.0 0.1)) (quote bpf) 2))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) "x" nil (pairlis (quote (winsize winpos picture)) (list (om-make-point 370 280) (om-make-point 400 20) nil)) t nil nil nil) (om-load-editor-box1 "BPF 2" (quote bpf) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "X-POINTS" (list 0 10)) (om-load-inputfun (quote input-funbox) "no documentation" "Y-POINTS" (list 0 100)) (om-load-inputfun (quote input-funbox) "no documentation" "DECIMALS" 0))) (om-make-point 1212 574) (om-make-point 105 38) (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0 10 20 30 40 50 60 70 80)) (quote (1 1 1 1 1 1 1 1 1)) (quote bpf) 0))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) "x" nil (pairlis (quote (winsize winpos picture)) (list (om-make-point 370 280) (om-make-point 400 20) nil)) t nil nil nil) (om-load-boxcomment "comment 2" (om-make-point 161 53) (quote "init vals for set-amplitude $(open the target editor and drag on the param box)") "" (om-make-point 1196 478) nil (om-make-color 0 0 0) (om-make-font "Verdana" 10.0 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-boxcall (quote genfun) "FILTER-VPS-FREQS" (quote filter-vps-freqs) (quote ((om-load-inputfun (quote input-funbox) "no documentation" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "LOW" nil) (om-load-inputfun (quote input-funbox) "no documentation" "HIGH" nil))) (om-make-point 1051 397) nil nil "o" nil 1) (om-load-boxcall (quote lispfun) "SET-AMPLITUDES" (quote set-amplitudes) (quote ((om-load-inputfun (quote input-funbox) "SELF" "SELF" nil) (om-load-inputfun (quote input-funbox) "AMPLITUDE-BPF" "AMPLITUDE-BPF" nil))) (om-make-point 1103 356) nil nil "o" nil 1) (om-load-editor-box1 "SOUNDTARGET 4" (quote soundtarget) (quote ((om-load-inputfun (quote input-funbox) "object" "self" nil) (om-load-inputfun (quote input-funbox) "initial chord (symbolic pitches)" "chord" (let ((thechord (make-instance (quote chord) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (100)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) (om-load-inputfun (quote input-funbox) "attributes of the pitch spectral processing operators" "params" nil) (om-load-inputfun (quote input-funbox) "additional pitch processing operators" "operateurs" nil) (om-load-inputfun (quote input-funbox) "a filter for the resulting spectrum" "freq-filter" (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj)) (om-load-inputfun (quote input-funbox) "the OMChroma class used for synthesis" "synth-class" (quote add-1)) (om-load-inputfun (quote input-funbox) "the sound used as a target for orchestration" "snd" nil))) (om-make-point 990 574) (om-make-point 196 67) (let ((rep (if (find-class (quote soundtarget) nil) (make-instance (quote soundtarget) :chord (let ((thechord (make-instance (quote chord-spectra) :lmidic (quote (5200 6340 6738)) :ldur (quote (1000 1000 1000)) :lvel (quote (74 85 85)) :loffset (quote (0 0 0)) :lchan (quote (1 1 1))))) (load-port-info thechord (quote (0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) :params (list (list (list (quote :nb-harm) 10) (list (quote :stretch-fact) (list 55.2)) (list (quote :filter) (list 400 3500))) (list (list (quote :nb-harm) 10) (list (quote :stretch-fact) (list 1.2)) (list (quote :filter) (list 400 3500))) (list (list (quote :nb-harm) 10) (list (quote :stretch-fact) (list 1.2)) (list (quote :filter) (list 400 3500)))) :operateurs (list (quote filter-vps-freqs) (quote set-amplitudes) (quote stretch-vps-freqs)) :freq-filter (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) :synth-class (quote add-1) :snd nil :from-file t)))) (setf (analysisparams rep) (list 80 25 "ChordSeq+ERB")) (setf (chordinfo rep) 2) (setf (chordmode rep) 0) (setf (targetchord rep) (let ((thechord (make-instance (quote chord) :lmidic (quote (5200 6340 6738)) :ldur (quote (1000 1000 1000)) :lvel (quote (80 80 80)) :loffset (quote (0 0 0)) :lchan (quote (1 1 1))))) (load-port-info thechord (quote (0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) rep) nil nil (pairlis (quote (winsize winpos mode)) (list (om-make-point 1100 600) (om-make-point 413 428) 1)) nil nil nil t) (om-load-boxcomment "comment" (om-make-point 187 61) (quote "default values for the spectral processing operators") "" (om-make-point 918 447) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12.0 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-boxcomment "comment" (om-make-point 152 65) (quote "3 spectral processing operatiors are added to the target editor") "" (om-make-point 952 332) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12.0 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-boxcall (quote genfun) "STRETCH-VPS-FREQS" (quote stretch-vps-freqs) (quote ((om-load-inputfun (quote input-funbox) "" "SELF" nil) (om-load-inputfun (quote input-funbox) "" "VAL" nil))) (om-make-point 1153 401) nil nil "o" nil 1) (om-load-boxcall (quote lispfun) "LIST1" (quote list) (quote ((om-load-inputfun (quote input-funbox) "add-input" "add-input" nil) (om-load-inputfun (quote input-funbox) "add-input" "add-input" nil) (om-load-inputfun (quote input-funbox) "add-input" "add-input" nil))) (om-make-point 1131 458) nil nil nil nil 1) (om-load-boxcall (quote bastype) "list" (quote list) (quote nil) (om-make-point 918 505) (om-make-point 131 56) (list (list (quote :nb-harm) 10) (list (quote :filter) (list 400 3500)) (list (quote :stretch-fact) (list 1.2))) "((:nb-harm 10)$(:filter (400 3500))$(:stretch-fact (1.2)))" nil) (om-load-boxcomment "comment" (om-make-point 264 83) (quote "Specification of the initial symbolic pitches, spectrum filtering data and synthesis algorith used to generate the sound (an OMChroma synthjesis class)") nil (om-make-point 603 575) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-editor-box1 "CHORD1 2" (quote chord) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "LMIDIC" (list 6000)) (om-load-inputfun (quote input-funbox) "no documentation" "LVEL" (list 100)) (om-load-inputfun (quote input-funbox) "no documentation" "LOFFSET" (list 0)) (om-load-inputfun (quote input-funbox) "no documentation" "LDUR" (list 1000)) (om-load-inputfun (quote input-funbox) "no documentation" "LCHAN" (list 1)))) (om-make-point 606 365) (om-make-point 74 130) (let ((thechord (make-instance (quote chord) :lmidic (quote (2800 6340 6738 7648 7846)) :ldur (quote (1000 1000 1000 1000 1000)) :lvel (quote (74 85 85 49 49)) :loffset (quote (0 0 0 0 0)) :lchan (quote (1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) "x" nil (pairlis (quote (scale show-stems obj-mode score-mode winpos winsize mode grillestep notechancolor? zoom inport outport deltapict cmnpref staff fontsize approx palette-mode player)) (list nil (quote t) 0 0 (om-make-point 40 10) (om-make-point 370 280) 0 1000 nil 1 0 0 (om-make-point 0 -7) (let ((newobj (make-instance (quote edition-values)))) (setf (paper-size newobj) (om-make-point 600 800)) (setf (top-margin newobj) 2) (setf (left-margin newobj) 1) (setf (right-margin newobj) 1) (setf (bottom-margin newobj) 1) (setf (orientation newobj) nil) (setf (scale newobj) nil) (setf (system-space newobj) (quote (1))) (setf (system-color newobj) (quote nil)) (setf (line-space newobj) 1) (setf (title newobj) nil) (setf (show-title? newobj) nil) (setf (show-page? newobj) nil) (setf (sheet-id newobj) nil) (setf (page-mode newobj) nil) newobj) (quote gf) 24 4 0 (quote :midishare))) t nil nil nil) (om-load-editor-box1 "FOF-1" (quote fof-1) (quote ((om-load-inputfun (quote input-funbox) "object or object list" "self" nil) (om-load-inputfun (quote input-funbox) "How many vertical components for init ?" "numcols" 1) (om-load-inputfun (quote input-funbox) "local event offset (in seconds)" "action-time" 0) (om-load-inputfun (quote input-funbox) "doc for user-fun" "user-fun" nil))) (om-make-point 799 426) (om-make-point 49 55) (if (find-class (quote fof-1) nil) (let ((rep (make-instance (quote fof-1) :numcols 1))) (when (member (quote e-dels) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote e-dels)) 0)) (when (member (quote durs) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote durs)) 1)) (when (member (quote amp) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote amp)) -6.0)) (when (member (quote f0) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote f0)) 220.0)) (when (member (quote freq) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote freq)) 609)) (when (member (quote bw) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote bw)) 77)) (when (member (quote aenv) (get-init-slots-of-class (quote fof-1)) :key (quote car)) (setf (slot-value rep (quote aenv)) (let ((newobj (when (find-class (quote gen07) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 80.0 3600.0 4096.0)) (quote (0.0 1.0 1.0 0.0)) (quote gen07) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) (setf (stime newobj) 0) (setf (size newobj) 4097) (setf (id newobj) "?") newobj))) (setf (lcontrols rep) (list)) (setf (action-time rep) 0) (setf (lprecision rep) (list 3)) (setf (data rep) (list (list 0) (list 1) (list -6.0) (list 220.0) (list 609) (list 77) (list (let ((newobj (when (find-class (quote gen07) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 80.0 3600.0 4096.0)) (quote (0.0 1.0 1.0 0.0)) (quote gen07) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) (setf (stime newobj) 0) (setf (size newobj) 4097) (setf (id newobj) "?") newobj)))) rep)) nil nil (pairlis (quote (panel-list cur-group-ind show-opt-fields color-list winsize winpos)) (list (list (list "All open" (list 0 (quote t)) (list 1 (quote t)) (list 2 (quote t)) (list 3 (quote t)) (list 4 (quote t)) (list 5 (quote t)) (list 6 (quote t))) (list "All close" (list 0 nil) (list 1 nil) (list 2 nil) (list 3 nil) (list 4 nil) (list 5 nil) (list 6 nil))) 0 (quote t) (list (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0)) (om-make-point 500 280) (om-make-point 10 40))) nil nil nil t) (om-load-editor-box1 "BPF" (quote bpf) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "X-POINTS" (list 0 10)) (om-load-inputfun (quote input-funbox) "no documentation" "Y-POINTS" (list 0 100)) (om-load-inputfun (quote input-funbox) "no documentation" "DECIMALS" 0))) (om-make-point 691 418) (om-make-point 86 51) (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0 1000 2000 3000 4000 5000)) (quote (-70 0 -60 -10 -80 -40)) (quote bpf) 0))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) nil nil (pairlis (quote (winsize winpos picture)) (list (om-make-point 370 280) (om-make-point 400 20) nil)) t nil nil nil) (om-load-boxcall (quote bastype) "aux1" (quote t) (quote nil) (om-make-point 631 326) (om-make-point 191 30) (list 0 1000 2000 3000 4000 5000) "(0 1000 2000 3000 4000 5000)" nil) (om-load-boxcall (quote bastype) "aux2" (quote t) (quote nil) (om-make-point 732 375) (om-make-point 131 28) (list -70 0 -60 -10 -80 -40) "(-70 0 -60 -10 -80 -40)" nil) (om-load-editor-box1 "SOUNDTARGET 3" (quote soundtarget) (quote ((om-load-inputfun (quote input-funbox) "object" "self" nil) (om-load-inputfun (quote input-funbox) "initial chord (symbolic pitches)" "chord" (let ((thechord (make-instance (quote chord) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (100)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) (om-load-inputfun (quote input-funbox) "attributes of the pitch spectral processing operators" "params" nil) (om-load-inputfun (quote input-funbox) "additional pitch processing operators" "operateurs" nil) (om-load-inputfun (quote input-funbox) "a filter for the resulting spectrum" "freq-filter" (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj)) (om-load-inputfun (quote input-funbox) "the OMChroma class used for synthesis" "synth-class" (quote add-1)) (om-load-inputfun (quote input-funbox) "the sound used as a target for orchestration" "snd" nil))) (om-make-point 631 499) (om-make-point 156 70) (let ((rep (if (find-class (quote soundtarget) nil) (make-instance (quote soundtarget) :chord (let ((thechord (make-instance (quote chord-spectra) :lmidic (quote (2800 6340 6738 7648 7846)) :ldur (quote (1000 1000 1000 1000 1000)) :lvel (quote (74 85 85 49 49)) :loffset (quote (0 0 0 0 0)) :lchan (quote (1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) :params (list (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100)))) :operateurs nil :freq-filter (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0 1000 2000 3000 4000 5000)) (quote (-70 0 -60 -10 -80 -40)) (quote bpf) 0))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) :synth-class (quote fof-1) :snd nil :from-file t)))) (setf (analysisparams rep) (list 80 25 "ChordSeq+ERB")) (setf (chordinfo rep) 2) (setf (chordmode rep) 0) (setf (targetchord rep) (let ((thechord (make-instance (quote chord) :lmidic (quote (2800 6340 6738 7648 7846)) :ldur (quote (1000 1000 1000 1000 1000)) :lvel (quote (80 80 80 80 80)) :loffset (quote (0 0 0 0 0)) :lchan (quote (1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) rep) nil nil (pairlis (quote (winsize winpos mode)) (list (om-make-point 1100 600) (om-make-point 604 94) 1)) nil nil nil t) (om-load-boxcomment "comment" (om-make-point 577 60) (quote "Open the soundtarget editor to edit/hear the resulting sound target.$$See the online doc ('d') for more details on the SoundTarget attributes and features.") nil (om-make-point 93 705) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12 :family "Verdana" :style (quote (:bold)) :mode (quote nil))) (om-load-boxcomment "comment" (om-make-point 126 63) (quote "Specification of the initial symbolic pitches") nil (om-make-point 438 476) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-boxcomment "comment" (om-make-point 147 67) (quote "Direct specification of the sound target as a sound file.") nil (om-make-point 162 450) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12 :family "Verdana" :style (quote (:italic)) :mode (quote nil))) (om-load-boxcomment "comment" (om-make-point 959 175) (quote "Sound targets are data sets representing a sound target allowing to Orchidée to initiate the prchestration process.$Most of this data is accessible from the editor, and some part of it can be set algorithmically from OM programs via the visible inputs of the class.$$The SoundTarget editor in OM-Orchidée has two configurations:$  - In the 'compact' mode are visible the very minimal information sent to Orchidée$  - In the 'expanded mode are visble a number of other data and information corresponding to the different steps of constructions of the target final data.$$You can choose to specify/edit any of these parts from the editor, or beforehand in OM visual programs.$$In any case, OM will perform a sound synthesis to provide Orchidée with a 'real' sound file. This synthesis is done via the OMChroma+OM2Csound libraries (hence required to submit 'abstract' target specifications to Orchidée) ") nil (om-make-point 72 70) nil (om-make-color 0 0 0) (om-make-font "Verdana" 12 :family "Verdana" :style (quote (:plain)) :mode (quote nil))) (om-load-editor-box1 "SOUNDTARGET 2" (quote soundtarget) (quote ((om-load-inputfun (quote input-funbox) "object" "self" nil) (om-load-inputfun (quote input-funbox) "initial chord (symbolic pitches)" "chord" (let ((thechord (make-instance (quote chord) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (100)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) (om-load-inputfun (quote input-funbox) "attributes of the pitch spectral processing operators" "params" nil) (om-load-inputfun (quote input-funbox) "additional pitch processing operators" "operateurs" nil) (om-load-inputfun (quote input-funbox) "a filter for the resulting spectrum" "freq-filter" (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj)) (om-load-inputfun (quote input-funbox) "the OMChroma class used for synthesis" "synth-class" (quote add-1)) (om-load-inputfun (quote input-funbox) "the sound used as a target for orchestration" "snd" nil))) (om-make-point 363 604) (om-make-point 154 64) (let ((rep (if (find-class (quote soundtarget) nil) (make-instance (quote soundtarget) :chord (let ((thechord (make-instance (quote chord-spectra) :lmidic (quote (2800 6340 6738 7648 7846 8384 8516 8900 8998 9296 9376 9618 9684)) :ldur (quote (1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000)) :lvel (quote (74 85 85 49 49 87 87 88 88 81 81 68 68)) :loffset (quote (0 0 0 0 0 0 0 0 0 0 0 0 0)) :lchan (quote (1 1 1 1 1 1 1 1 1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0 0 0 0 0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) :params (list (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100))) (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100)))) :operateurs nil :freq-filter (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) :synth-class (quote add-1) :snd (let ((newobj (let ((thesound (load-sound (om-make-pathname :directory (quote (:relative "out-files")) :device :unspecific :host :unspecific :name "my_synt" :type "aiff") 1))) (when thesound (setf (markers thesound) (quote nil))) thesound))) (load-port-info newobj (quote nil)) (init-mus-color newobj (quote nil)) (set-extra-pairs newobj (quote nil)) (set-patch-pairs newobj (quote nil)) (set-name newobj "my_synt.aiff") (set-tonalite newobj nil) newobj) :from-file t)))) (setf (analysisparams rep) (list 80 25 "ChordSeq+ERB")) (setf (chordinfo rep) 2) (setf (chordmode rep) 0) (setf (targetchord rep) (let ((thechord (make-instance (quote chord) :lmidic (quote (2800 6340 6738 7648 7846 8384 8516 8900 8998 9296 9376 9618 9684)) :ldur (quote (1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000)) :lvel (quote (80 80 80 80 80 80 80 80 80 80 80 80 80)) :loffset (quote (0 0 0 0 0 0 0 0 0 0 0 0 0)) :lchan (quote (1 1 1 1 1 1 1 1 1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0 0 0 0 0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) rep) nil nil (pairlis (quote (winsize winpos mode)) (list (om-make-point 1100 600) (om-make-point 106 80) 1)) nil nil nil t) (om-load-editor-box1 "SOUNDTARGET 1" (quote soundtarget) (quote ((om-load-inputfun (quote input-funbox) "object" "self" nil) (om-load-inputfun (quote input-funbox) "initial chord (symbolic pitches)" "chord" (let ((thechord (make-instance (quote chord) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (100)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) (om-load-inputfun (quote input-funbox) "attributes of the pitch spectral processing operators" "params" nil) (om-load-inputfun (quote input-funbox) "additional pitch processing operators" "operateurs" nil) (om-load-inputfun (quote input-funbox) "a filter for the resulting spectrum" "freq-filter" (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj)) (om-load-inputfun (quote input-funbox) "the OMChroma class used for synthesis" "synth-class" (quote add-1)) (om-load-inputfun (quote input-funbox) "the sound used as a target for orchestration" "snd" nil))) (om-make-point 84 537) (om-make-point 179 69) (let ((rep (if (find-class (quote soundtarget) nil) (make-instance (quote soundtarget) :chord (let ((thechord (make-instance (quote chord-spectra) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (100)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) :params (list (list (list (quote :nb-harm) 1) (list (quote :stretch-fact) (list 100)))) :operateurs nil :freq-filter (let ((newobj (when (find-class (quote bpf) nil) (let ((newbpf (simple-bpf-from-list (quote (0.0 1.0 1000.0 2000.0 3000.0 4000.0 5000.0)) (quote (-60.0 0.0 0.0 0.0 0.0 0.0 0.0)) (quote bpf) 1))) (setf (bpfcolor newbpf) (om-make-color 0 0 0)) (set-name newbpf nil) newbpf)))) newobj) :synth-class (quote add-1) :snd (let ((newobj (let ((thesound (load-sound (om-make-pathname :directory (quote (:relative "out-files")) :device :unspecific :host :unspecific :name "my_synt" :type "aiff") 1))) (when thesound (setf (markers thesound) (quote nil))) thesound))) (load-port-info newobj (quote nil)) (init-mus-color newobj (quote nil)) (set-extra-pairs newobj (quote nil)) (set-patch-pairs newobj (quote nil)) (set-name newobj "my_synt.aiff") (set-tonalite newobj nil) newobj) :from-file t)))) (setf (analysisparams rep) (list 80 25 "ChordSeq+ERB")) (setf (chordinfo rep) 2) (setf (chordmode rep) 0) (setf (targetchord rep) (let ((thechord (make-instance (quote chord) :lmidic (quote (6000)) :ldur (quote (1000)) :lvel (quote (80)) :loffset (quote (0)) :lchan (quote (1))))) (load-port-info thechord (quote (0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord)) rep) nil nil (pairlis (quote (winsize winpos mode)) (list (om-make-point 1100 600) (om-make-point 567 81) 1)) nil nil nil t) (om-load-boxcall (quote bastype) "aux" (quote t) (quote nil) (om-make-point 422 374) (om-make-point 20 28) 5 "5" nil) (om-load-editor-box1 "NOTE" (quote note) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "MIDIC" 6000) (om-load-inputfun (quote input-funbox) "no documentation" "VEL" 80) (om-load-inputfun (quote input-funbox) "no documentation" "DUR" 1000) (om-load-inputfun (quote input-funbox) "no documentation" "CHAN" 1))) (om-make-point 393 286) (om-make-point 70 60) (if (find-class (quote note) nil) (let ((newobj (make-instance (quote note) :midic 6550 :vel 80 :dur 1000 :chan 1 :from-file t))) (load-port-info newobj (quote 0)) (init-mus-color newobj (quote nil)) (set-extra-pairs newobj (quote nil)) (set-patch-pairs newobj (quote ((nil (om-load-patch-abs1 "patch" (quote nil) (quote nil) 6.050102 nil "" (om-make-point 200 200) (om-make-point 400 500)))))) (set-name newobj nil) (set-tonalite newobj nil) newobj)) "x" nil (pairlis (quote (microplay palette-mode approx fontsize staff cmnpref deltapict outport inport zoom notechancolor? grillestep mode winsize winpos score-mode obj-mode show-stems scale player)) (list nil 0 4 48 (quote gf) (let ((newobj (make-instance (quote edition-values)))) (setf (paper-size newobj) (om-make-point 600 800)) (setf (top-margin newobj) 2) (setf (left-margin newobj) 1) (setf (right-margin newobj) 1) (setf (bottom-margin newobj) 1) (setf (orientation newobj) nil) (setf (scale newobj) nil) (setf (system-space newobj) (quote (1))) (setf (system-color newobj) (quote nil)) (setf (line-space newobj) 1) (setf (title newobj) nil) (setf (show-title? newobj) nil) (setf (show-page? newobj) nil) (setf (sheet-id newobj) nil) (setf (page-mode newobj) nil) newobj) (om-make-point 0 -19) 0 0 1 nil 1000 0 (om-make-point 370 280) (om-make-point 40 10) 0 0 (quote t) nil (quote :midishare))) t nil nil nil) (om-load-editor-box1 "NOTE" (quote note) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "MIDIC" 6000) (om-load-inputfun (quote input-funbox) "no documentation" "VEL" 80) (om-load-inputfun (quote input-funbox) "no documentation" "DUR" 1000) (om-load-inputfun (quote input-funbox) "no documentation" "CHAN" 1))) (om-make-point 336 343) (om-make-point 71 54) (if (find-class (quote note) nil) (let ((newobj (make-instance (quote note) :midic 2800 :vel 80 :dur 1000 :chan 1 :from-file t))) (load-port-info newobj (quote 0)) (init-mus-color newobj (quote nil)) (set-extra-pairs newobj (quote nil)) (set-patch-pairs newobj (quote ((nil (om-load-patch-abs1 "patch" (quote nil) (quote nil) 6.050102 nil "" (om-make-point 200 200) (om-make-point 400 500)))))) (set-name newobj nil) (set-tonalite newobj nil) newobj)) "x" nil (pairlis (quote (microplay palette-mode approx fontsize staff cmnpref deltapict outport inport zoom notechancolor? grillestep mode winsize winpos score-mode obj-mode show-stems scale player)) (list nil 0 2 24 (quote gf) (let ((newobj (make-instance (quote edition-values)))) (setf (paper-size newobj) (om-make-point 600 800)) (setf (top-margin newobj) 2) (setf (left-margin newobj) 1) (setf (right-margin newobj) 1) (setf (bottom-margin newobj) 1) (setf (orientation newobj) nil) (setf (scale newobj) nil) (setf (system-space newobj) (quote (1))) (setf (system-color newobj) (quote nil)) (setf (line-space newobj) 1) (setf (title newobj) nil) (setf (show-title? newobj) nil) (setf (show-page? newobj) nil) (setf (sheet-id newobj) nil) (setf (page-mode newobj) nil) newobj) (om-make-point 0 -19) 0 0 1 nil 1000 0 (om-make-point 370 280) (om-make-point 40 10) 0 0 (quote t) nil (quote :midishare))) t nil nil nil) (om-load-boxcall (quote genfun) "FREQ-MOD" (quote freq-mod) (quote ((om-load-inputfun (quote input-funbox) "Carrier" "CARRIER" 3600) (om-load-inputfun (quote input-funbox) "Moduler" "MODUL" 4000) (om-load-inputfun (quote input-funbox) "Index" "INDEX" 5) (om-load-inputfunmenu1 (quote input-funmenu) "Unit" "UNIT" (quote midic) (list (list "Midics" (quote (quote midic))) (list "Freqs" (quote (quote freq))))) (om-load-inputfunmenu1 (quote input-funmenu) "Type" "TYPE" (quote chord) (list (list "Chord" (quote (quote chord))) (list "ChordSeq" (quote (quote chordseq))))))) (om-make-point 395 403) nil nil nil nil 1) (om-load-editor-box1 "CHORD1" (quote chord) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "LMIDIC" (list 6000)) (om-load-inputfun (quote input-funbox) "no documentation" "LVEL" (list 100)) (om-load-inputfun (quote input-funbox) "no documentation" "LOFFSET" (list 0)) (om-load-inputfun (quote input-funbox) "no documentation" "LDUR" (list 1000)) (om-load-inputfun (quote input-funbox) "no documentation" "LCHAN" (list 1)))) (om-make-point 354 473) (om-make-point 79 106) (let ((thechord (make-instance (quote chord) :lmidic (quote (2800 6340 6738 7648 7846 8384 8516 8900 8998 9296 9376 9618 9684)) :ldur (quote (1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000 1000)) :lvel (quote (74 85 85 49 49 87 87 88 88 81 81 68 68)) :loffset (quote (0 0 0 0 0 0 0 0 0 0 0 0 0)) :lchan (quote (1 1 1 1 1 1 1 1 1 1 1 1 1))))) (load-port-info thechord (quote (0 0 0 0 0 0 0 0 0 0 0 0 0))) (init-mus-color thechord (quote nil)) (set-extra-pairs thechord (quote nil)) (set-tonalite thechord nil) thechord) nil nil (pairlis (quote (microplay palette-mode approx fontsize staff cmnpref deltapict outport inport zoom notechancolor? grillestep mode winsize winpos score-mode obj-mode show-stems scale player)) (list nil 0 4 24 (quote gf) (let ((newobj (make-instance (quote edition-values)))) (setf (paper-size newobj) (om-make-point 600 800)) (setf (top-margin newobj) 2) (setf (left-margin newobj) 1) (setf (right-margin newobj) 1) (setf (bottom-margin newobj) 1) (setf (orientation newobj) nil) (setf (scale newobj) nil) (setf (system-space newobj) (quote (1))) (setf (system-color newobj) (quote nil)) (setf (line-space newobj) 1) (setf (title newobj) nil) (setf (show-title? newobj) nil) (setf (show-page? newobj) nil) (setf (sheet-id newobj) nil) (setf (page-mode newobj) nil) newobj) (om-make-point 0 -7) 0 0 1 nil 1000 0 (om-make-point 370 280) (om-make-point 40 10) 0 1 (quote t) nil (quote :midishare))) t nil nil nil) (om-load-boxcomment "comment" (om-make-point 120 51) (quote "OM-Orchidee$Sound targets") "" (om-make-point 72 25) nil (om-make-color 0 0 0) (om-make-font "Verdana" 14 :family "Verdana" :style (quote (:bold)) :mode (quote nil))) (om-load-boxcall (quote bastype) "aux" (quote t) (quote nil) (om-make-point 116 296) (om-make-point 66 28) (list 0.2 0.7 1) "(0.2 0.7 1)" nil) (om-load-editor-box1 "ADD-2" (quote add-2) (quote ((om-load-inputfun (quote input-funbox) "object or object list" "self" nil) (om-load-inputfun (quote input-funbox) "How many vertical components for init ?" "numcols" 10) (om-load-inputfun (quote input-funbox) "local event offset (in seconds)" "action-time" 0) (om-load-inputfun (quote input-funbox) "doc for user-fun" "user-fun" nil) (om-load-inputkeyword (quote editor-keyword) "Choose from this list (:e-dels :durs :amp :f0 :atk :dec :scal :jtf)" "Keyword input" (quote :f0) nil nil) (om-load-inputkeyword (quote editor-keyword) "Choose from this list (:e-dels :durs :amp :f0 :atk :dec :scal :jtf)" "Keyword input" (quote :amp) nil nil))) (om-make-point 69 331) (om-make-point 94 48) (if (find-class (quote add-2) nil) (let ((rep (make-instance (quote add-2) :numcols 10))) (when (member (quote e-dels) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote e-dels)) 0)) (when (member (quote durs) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote durs)) 1)) (when (member (quote amp) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote amp)) (list 0.2 0.7 1))) (when (member (quote f0) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote f0)) 440.0)) (when (member (quote atk) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote atk)) 0.003)) (when (member (quote dec) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote dec)) 0.01)) (when (member (quote scal) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote scal)) 1.0)) (when (member (quote jtf) (get-init-slots-of-class (quote add-2)) :key (quote car)) (setf (slot-value rep (quote jtf)) 0.02)) (setf (lcontrols rep) (list)) (setf (action-time rep) 0) (setf (lprecision rep) (list 3)) (setf (data rep) (list (list 0 0 0 0 0 0 0 0 0 0) (list 1 1 1 1 1 1 1 1 1 1) (list 0.2 0.7 1 0.2 0.7 1 0.2 0.7 1 0.2) (list 440.0 440.0 440.0 440.0 440.0 440.0 440.0 440.0 440.0 440.0) (list 0.003 0.003 0.003 0.003 0.003 0.003 0.003 0.003 0.003 0.003) (list 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01 0.01) (list 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0) (list 0.02 0.02 0.02 0.02 0.02 0.02 0.02 0.02 0.02 0.02))) rep)) nil nil (pairlis (quote (panel-list cur-group-ind show-opt-fields color-list winsize winpos)) (list (list (list "All open" (list 0 (quote t)) (list 1 (quote t)) (list 2 (quote t)) (list 3 (quote t)) (list 4 (quote t)) (list 5 (quote t)) (list 6 (quote t)) (list 7 (quote t))) (list "All close" (list 0 nil) (list 1 nil) (list 2 nil) (list 3 nil) (list 4 nil) (list 5 nil) (list 6 nil) (list 7 nil))) 0 (quote t) (list (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0) (om-make-color 0 0 0)) (om-make-point 500 280) (om-make-point 10 40))) t nil nil nil) (om-load-boxcall (quote genfun) "SYNTHESIZE" (quote synthesize) (quote ((om-load-inputfun (quote input-funbox) "no documentation" "ELEMENTS" nil))) (om-make-point 105 395) nil nil nil nil 1) (om-load-editor-box1 "" (quote sound) (quote ((om-load-inputfun (quote input-funbox) "objs" "SELF" nil) (om-load-inputfun (quote input-funbox) "no documentation" "TRACKNUM" 1) (om-load-inputfun (quote input-funbox) "no documentation" "MARKERS" nil))) (om-make-point 79 464) (om-make-point 80 50) (let ((newobj nil)) (load-port-info newobj (quote nil)) (init-mus-color newobj (quote nil)) (set-extra-pairs newobj (quote nil)) (set-patch-pairs newobj (quote nil)) (set-name newobj "") (set-tonalite newobj nil) newobj) nil nil (pairlis (quote (microplay palette-mode scale show-stems obj-mode score-mode winpos winsize mode grillestep notechancolor? zoom inport outport deltapict cmnpref staff fontsize approx player)) (list nil 0 nil (quote t) 1 0 (om-make-point 400 19) (om-make-point 370 280) 0 1000 nil 1 0 0 (om-make-point 0 0) (let ((newobj (make-instance (quote edition-values)))) (setf (paper-size newobj) (om-make-point 600 800)) (setf (top-margin newobj) 2) (setf (left-margin newobj) 1) (setf (right-margin newobj) 1) (setf (bottom-margin newobj) 1) (setf (orientation newobj) nil) (setf (scale newobj) nil) (setf (system-space newobj) (quote (1))) (setf (system-color newobj) (quote nil)) (setf (line-space newobj) 1) (setf (title newobj) nil) (setf (show-title? newobj) nil) (setf (show-page? newobj) nil) (setf (sheet-id newobj) nil) (setf (page-mode newobj) nil) newobj) (quote g) 24 2 (quote :midishare))) t nil nil nil))) (quote ((10 0 5 2 nil 0) (9 0 5 3 nil 0) (3 0 9 0 nil 0) (4 0 9 1 nil 0) (8 0 9 2 nil 0) (15 0 14 1 nil 0) (16 0 14 2 nil 0) (12 0 17 1 nil 0) (14 0 17 4 nil 0) (13 0 17 5 nil 0) (28 0 22 1 nil 0) (33 0 23 6 nil 0) (26 1 27 0 nil 0) (25 1 27 1 nil 0) (24 0 27 2 nil 0) (27 0 28 0 nil 0) (30 0 31 5 nil 0) (31 0 32 0 nil 0) (32 0 33 0 nil 0))) nil 6.050102))
